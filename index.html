<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>景品応募フォーム</title>
    <script
      src="https://yubinbango.github.io/yubinbango/yubinbango.js"
      charset="UTF-8"
    ></script>
  </head>
  <body>
    <h1>
      <img
        src="https://i.ibb.co/Wv8X3LVh/1.png"
        alt="IMG-5451"
        width="100px"
        height="100px"
      />
      クールシェア宝塚2025<br />
      景品応募フォーム
    </h1>

    <form
      action="https://script.google.com/macros/s/AKfycbw0uiHblJKtUijFbY-J7ug1p5WaivNvrcc2hfQ2LyWOQCcG-VCQesPDN0lFTNQ-dBKZ/exec"
      method="post"
      class="h-adr"
      onsubmit="processCheckboxes(event)"
    >
      <span class="p-country-name" style="display: none">Japan</span>
      <p>ユーザーIDを入力してください</p>
      <input type="text" name="userId" id="userId" />
      <p>氏名を入力してください</p>
      <input type="text" name="name" id="name" />
      <p>住所を入力してください</p>
      〒<input
        type="text"
        name="address-1"
        id="address-1"
        class="p-postal-code"
        size="3"
        maxlength="3"
      />
      -
      <input
        type="text"
        name="address-2"
        id="address-2"
        class="p-postal-code"
        size="4"
        maxlength="4"
      /><br />
      都道府県:<input
        type="text"
        name="address-3"
        id="address-3"
        class="p-region"
      /><br />
      地区町村:<input
        type="text"
        name="address-4"
        id="address-4"
        class="p-locality"
      /><br />
      町名:<input
        type="text"
        name="address-5"
        id="address-5"
        class="p-street-address p-extended-address"
      /><br />
      番地:<input type="text" name="address-6" id="address-6" />
      <p>日中繋がる連絡先を入力してください</p>
      <input type="text" name="phoneNumber" id="phoneNumber" />
      <p>当事業に参加したご感想をお聞かせください。</p>
      <textarea rows="3" name="message" id="message"></textarea>
      <p>ご希望の景品を選択してください(複数選択可能)</p>
      <label><input type="checkbox" name="prizes" value="景品1" />景品1</label>
      <label><input type="checkbox" name="prizes" value="景品2" />景品2</label>
      <label><input type="checkbox" name="prizes" value="景品3" />景品3</label>
      <label><input type="checkbox" name="prizes" value="景品4" />景品4</label>
      <label><input type="checkbox" name="prizes" value="景品5" />景品5</label
      ><br />
      <input type="hidden" name="prizesList" id="prizesList" />

      <button type="submit" value>送信</button>
    </form>
    <script>
      function processCheckboxes(event) {
        event.preventDefault();
        const selectedPrizes = Array.from(
          document.querySelectorAll('input[name="prizes"]:checked')
        )
          .map((checkbox) => checkbox.value)
          .join(",");

        document.getElementById("prizesList").value = selectedPrizes;
        document.querySelector("form").submit();
        event.target.submit();
      }
    </script>
    <style>
      h1 {
        font-family: sans-serif;
        display: flex;
        align-items: center; /* 縦方向の中央揃え */
        justify-content: center; /* 横方向の中央揃え */
        text-align: center;
        background: skyblue;
        padding-top: 20px;
        padding-bottom: 20px;
        padding-left: 20px;
      }

      input {
        font-size: 200%;
        background: skyblue;
      }

      button {
        font-size: 200%;
      }
    </style>
  </body>
</html>
